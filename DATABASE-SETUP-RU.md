# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–∞–∑—ã –î–∞–Ω–Ω—ã—Ö - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `cars.xml` (48 –ú–ë) –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

### üì¶ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **database/scripts/parse-cars-xml.js** - –ü–∞—Ä—Å–µ—Ä XML –≤ SQL
   - –ß–∏—Ç–∞–µ—Ç `cars.xml` (897,454 —Å—Ç—Ä–æ–∫–∏)
   - –ò–∑–≤–ª–µ–∫–∞–µ—Ç 407 –±—Ä–µ–Ω–¥–æ–≤, 9,554 –º–æ–¥–µ–ª–µ–π, 81,823 –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–π
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ —Ü–µ–Ω—ã –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
   - –°–æ–∑–¥–∞–µ—Ç SQL –¥–∞–º–ø –Ω–∞ 13 –ú–ë

2. **database/dumps/initial-data.sql** - SQL –¥–∞–º–ø (13 –ú–ë)
   - 92,030 –∑–∞–ø–∏—Å–µ–π –≥–æ—Ç–æ–≤—ã—Ö –∫ –∑–∞–≥—Ä—É–∑–∫–µ
   - –í—Å–µ –±—Ä–µ–Ω–¥—ã, –º–æ–¥–µ–ª–∏, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏–∑ XML
   - –î–æ–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ü–µ–Ω—ã, —Ä–∞—Å—Ö–æ–¥, —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤–ª–∞–¥–µ–Ω–∏—è)

3. **database/scripts/load-dump.sh** - –°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–º–ø–∞ –≤ search_db
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é

4. **database/scripts/package.json** - –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –ø–∞—Ä—Å–µ—Ä–∞
   - fast-xml-parser –¥–ª—è —á—Ç–µ–Ω–∏—è XML

5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**:
   - `database/dumps/README.md` - –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞–º–ø–∞
   - `database/DATA-LOADING.md` - –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º
   - `DATABASE-SETUP-RU.md` - –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

6. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Makefile**:
   - `make parse-xml` - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–º–ø –∏–∑ XML
   - `make load-dump` - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–º–ø –≤ –ë–î

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 92,030

–°—Ç—Ä–∞–Ω—ã:        11  (–†–æ—Å—Å–∏—è, –ì–µ—Ä–º–∞–Ω–∏—è, –Ø–ø–æ–Ω–∏—è, –°–®–ê, –ö–æ—Ä–µ—è, –ö–∏—Ç–∞–π, –§—Ä–∞–Ω—Ü–∏—è, –ò—Ç–∞–ª–∏—è, –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è, –®–≤–µ—Ü–∏—è, –î—Ä—É–≥–æ–µ)
–ì–æ—Ä–æ–¥–∞:        18  (–ú–æ—Å–∫–≤–∞, –ü–∏—Ç–µ—Ä, –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥, –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫, –ö–∞–∑–∞–Ω—å, Berlin, Tokyo, Seoul, etc.)
–ë—Ä–µ–Ω–¥—ã:        407 (Toyota, BMW, Mercedes-Benz, Audi, Honda, Nissan, Mazda, Hyundai, Kia, Lada, etc.)
–ú–æ–¥–µ–ª–∏:        9,554 (Camry, RAV4, 3 Series, X5, C-Class, A4, Accord, Creta, Rio, Vesta, etc.)
–ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏:   81,823 (–≤—Å–µ –∫–æ–º–ø–ª–µ–∫—Ç–∞—Ü–∏–∏ —Å –ø–æ–ª–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏)

–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏:
‚îú‚îÄ –¢–∏–ø—ã –∫—É–∑–æ–≤–∞:     29 (–°–µ–¥–∞–Ω, –í–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫, –ö—É–ø–µ, –ö—Ä–æ—Å—Å–æ–≤–µ—Ä, –•—ç—Ç—á–±–µ–∫, –¢–∞—Ä–≥–∞, –ö–∞–±—Ä–∏–æ–ª–µ—Ç, etc.)
‚îú‚îÄ –¢–∏–ø—ã —Ç–æ–ø–ª–∏–≤–∞:    4  (–ë–µ–Ω–∑–∏–Ω, –î–∏–∑–µ–ª—å, –ì–∏–±—Ä–∏–¥, –≠–ª–µ–∫—Ç—Ä–æ)
‚îú‚îÄ –¢—Ä–∞–Ω—Å–º–∏—Å—Å–∏–∏:     2  (AT, MT)
‚îî‚îÄ –ü—Ä–∏–≤–æ–¥:          2  (4WD, FWD, RWD)
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –¥–∞–º–ø (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–î–∞–º–ø —É–∂–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

```bash
# 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
make init

# 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ Prisma –º–∏–≥—Ä–∞—Ü–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü)
make migrate

# 3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–º–ø–∞
make load-dump
```

–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–π–º–µ—Ç 30-60 —Å–µ–∫—É–Ω–¥. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –ë–î –±—É–¥–µ—Ç 92,030 –∑–∞–ø–∏—Å–µ–π.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –¥–∞–º–ø –∏–∑ XML

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –¥–∞–º–ø:

```bash
# 1. –ü–∞—Ä—Å–∏–Ω–≥ cars.xml (–∑–∞–π–º–µ—Ç ~1 –º–∏–Ω—É—Ç—É)
make parse-xml

# 2. –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–≥–æ –¥–∞–º–ø–∞
make load-dump
```

## üîß –ß—Ç–æ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–∞–∂–¥–∞—è –∑–∞–ø–∏—Å—å

### –ë—Ä–µ–Ω–¥—ã (407 —à—Ç—É–∫)
```sql
Brand {
  id: integer              -- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  name: string             -- "Toyota", "BMW", etc.
  code: string             -- "TOYOTA", "BMW"
  country: string          -- "–Ø–ø–æ–Ω–∏—è", "–ì–µ—Ä–º–∞–Ω–∏—è"
  logo: string             -- URL –Ω–∞ –ª–æ–≥–æ—Ç–∏–ø (CDN)
  isPopular: boolean       -- –¢–æ–ø-15 –±—Ä–µ–Ω–¥–æ–≤ –æ—Ç–º–µ—á–µ–Ω—ã
  createdAt: timestamp
  updatedAt: timestamp
}
```

### –ú–æ–¥–µ–ª–∏ (9,554 —à—Ç—É–∫)
```sql
Model {
  id: integer              -- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  name: string             -- "Camry", "RAV4"
  code: string             -- –ö–æ–¥ –º–æ–¥–µ–ª–∏
  brandId: integer         -- –°—Å—ã–ª–∫–∞ –Ω–∞ –±—Ä–µ–Ω–¥
  generationId: string     -- ID –ø–æ–∫–æ–ª–µ–Ω–∏—è –∏–∑ XML
  image: string            -- URL –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
  createdAt: timestamp
  updatedAt: timestamp
}
```

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ (81,823 —à—Ç—É–∫)
```sql
Specification {
  id: integer              -- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID
  modelId: integer         -- –°—Å—ã–ª–∫–∞ –Ω–∞ –º–æ–¥–µ–ª—å
  brandId: integer         -- –°—Å—ã–ª–∫–∞ –Ω–∞ –±—Ä–µ–Ω–¥
  name: string             -- "2.5 AT (181 –ª.—Å.)"
  externalId: string       -- ID –∏–∑ cars.xml
  bodyTypeId: integer      -- –¢–∏–ø –∫—É–∑–æ–≤–∞
  engineVolume: decimal    -- –û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è (2.5, 3.0)
  horsepower: integer      -- –ú–æ—â–Ω–æ—Å—Ç—å (181, 300)
  fuelTypeId: integer      -- –¢–∏–ø —Ç–æ–ø–ª–∏–≤–∞
  transmissionId: integer  -- –ö–æ—Ä–æ–±–∫–∞ –ø–µ—Ä–µ–¥–∞—á
  driveTypeId: integer     -- –¢–∏–ø –ø—Ä–∏–≤–æ–¥–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å NULL)
  yearFrom: integer        -- –ì–æ–¥ –Ω–∞—á–∞–ª–∞ –≤—ã–ø—É—Å–∫–∞ (2010)
  yearTo: integer          -- –ì–æ–¥ –æ–∫–æ–Ω—á–∞–Ω–∏—è (2024)
  priceMin: integer        -- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)
  priceMax: integer        -- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ (‚ÇΩ)
  fuelConsumption: decimal -- –†–∞—Å—Ö–æ–¥ —Ç–æ–ø–ª–∏–≤–∞ (–ª/100–∫–º)
  acceleration0to100: decimal -- –†–∞–∑–≥–æ–Ω 0-100 –∫–º/—á (—Å–µ–∫)
  maxSpeed: integer        -- –ú–∞–∫—Å. —Å–∫–æ—Ä–æ—Å—Ç—å (–∫–º/—á)
  maintenanceCostPerYear: integer -- –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (‚ÇΩ/–≥–æ–¥)
  createdAt: timestamp
  updatedAt: timestamp
}
```

## üí∞ –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞ —Ü–µ–Ω

–¶–µ–Ω—ã —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ:

### 1. –ü—Ä–µ—Å—Ç–∏–∂–Ω–æ—Å—Ç—å –±—Ä–µ–Ω–¥–∞
- **–õ—é–∫—Å–æ–≤—ã–µ**: Ferrari, Lamborghini, Rolls-Royce ‚Üí –ë–∞–∑–æ–≤–∞—è 15 –º–ª–Ω ‚ÇΩ
- **–ü—Ä–µ–º–∏—É–º**: Mercedes, BMW, Audi ‚Üí –ë–∞–∑–æ–≤–∞—è 4 –º–ª–Ω ‚ÇΩ
- **–ú–∞—Å—Å–æ–≤—ã–µ**: Toyota, Honda, VW ‚Üí –ë–∞–∑–æ–≤–∞—è 1.5 –º–ª–Ω ‚ÇΩ

### 2. –ú–æ—â–Ω–æ—Å—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—è
- –ú–Ω–æ–∂–∏—Ç–µ–ª—å = 1 + (–º–æ—â–Ω–æ—Å—Ç—å / 300)
- –ü—Ä–∏–º–µ—Ä: 300 –ª.—Å. ‚Üí –º–Ω–æ–∂–∏—Ç–µ–ª—å 2x

### 3. –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω
- priceMax = priceMin √ó 1.5

### –ü—Ä–∏–º–µ—Ä—ã —Ü–µ–Ω:
```
Toyota Camry 181 –ª.—Å.     ‚Üí 2.5 - 3.7 –º–ª–Ω ‚ÇΩ
BMW 3 Series 184 –ª.—Å.     ‚Üí 3.8 - 5.7 –º–ª–Ω ‚ÇΩ
Mercedes E-Class 258 –ª.—Å. ‚Üí 5.8 - 8.7 –º–ª–Ω ‚ÇΩ
Ferrari 488 670 –ª.—Å.      ‚Üí 25 - 37 –º–ª–Ω ‚ÇΩ
Koenigsegg Jesko 1602 –ª.—Å ‚Üí 85+ –º–ª–Ω ‚ÇΩ
```

## ‚õΩ –†–∞—Å—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–∞ —Ç–æ–ø–ª–∏–≤–∞

### –§–æ—Ä–º—É–ª—ã:
- **–≠–ª–µ–∫—Ç—Ä–æ**: 15 + (–º–æ—â–Ω–æ—Å—Ç—å / 50) –∫–í—Ç¬∑—á/100–∫–º
- **–ì–∏–±—Ä–∏–¥**: 4 + (–æ–±—ä–µ–º √ó 1.5) –ª/100–∫–º
- **–î–∏–∑–µ–ª—å**: 5 + (–æ–±—ä–µ–º √ó 1.2) –ª/100–∫–º
- **–ë–µ–Ω–∑–∏–Ω**: 7 + (–æ–±—ä–µ–º √ó 2) –ª/100–∫–º

### –ü—Ä–∏–º–µ—Ä—ã:
```
Tesla Model 3 283 –ª.—Å.     ‚Üí 20.7 –∫–í—Ç¬∑—á/100–∫–º
Toyota Prius Hybrid 1.8    ‚Üí 6.7 –ª/100–∫–º
VW Passat 2.0 TDI Diesel   ‚Üí 7.4 –ª/100–∫–º
BMW M5 4.4 Petrol          ‚Üí 15.8 –ª/100–∫–º
```

## üîß –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è (–≤ –≥–æ–¥)

### –§–æ—Ä–º—É–ª–∞:
```
–ë–∞–∑–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:  100,000 ‚ÇΩ
+ –ú–æ—â–Ω–æ—Å—Ç—å √ó 200 ‚ÇΩ
+ –û–±—ä–µ–º –¥–≤–∏–≥–∞—Ç–µ–ª—è √ó 15,000 ‚ÇΩ

–ú–Ω–æ–∂–∏—Ç–µ–ª–∏:
- –õ—é–∫—Å–æ–≤—ã–µ –±—Ä–µ–Ω–¥—ã: √ó 3
- –ü—Ä–µ–º–∏—É–º –±—Ä–µ–Ω–¥—ã: √ó 1.8
```

### –ü—Ä–∏–º–µ—Ä—ã:
```
Lada Vesta 1.6L 106 –ª.—Å.     ‚Üí 20,000 ‚ÇΩ/–≥–æ–¥
Toyota Camry 2.5L 181 –ª.—Å.   ‚Üí 35,000 ‚ÇΩ/–≥–æ–¥
BMW 3 Series 2.0L 184 –ª.—Å.   ‚Üí 80,000 ‚ÇΩ/–≥–æ–¥
Mercedes E-Class 3.0L 258 –ª.—Å ‚Üí 140,000 ‚ÇΩ/–≥–æ–¥
Ferrari 488 3.9L 670 –ª.—Å.    ‚Üí 450,000 ‚ÇΩ/–≥–æ–¥
```

## üèéÔ∏è –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

### –†–∞–∑–≥–æ–Ω 0-100 –∫–º/—á:
- –ú–æ—â–Ω—ã–µ (>500 –ª.—Å.): 2.5 + (1000 / –º–æ—â–Ω–æ—Å—Ç—å) —Å–µ–∫—É–Ω–¥
- –û–±—ã—á–Ω—ã–µ: 3 + (600 / –º–æ—â–Ω–æ—Å—Ç—å) —Å–µ–∫—É–Ω–¥

### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å:
- –ú–æ—â–Ω—ã–µ (>500 –ª.—Å.): 250 + (–º–æ—â–Ω–æ—Å—Ç—å / 5) –∫–º/—á
- –û–±—ã—á–Ω—ã–µ: 180 + (–º–æ—â–Ω–æ—Å—Ç—å / 3) –∫–º/—á

### –ü—Ä–∏–º–µ—Ä—ã:
```
Lada Vesta 106 –ª.—Å.        ‚Üí 8.6 —Å–µ–∫, 215 –∫–º/—á
Toyota Camry 181 –ª.—Å.      ‚Üí 6.3 —Å–µ–∫, 240 –∫–º/—á
BMW M5 600 –ª.—Å.            ‚Üí 4.2 —Å–µ–∫, 370 –∫–º/—á
Lamborghini Aventador 740 –ª.—Å ‚Üí 3.9 —Å–µ–∫, 398 –∫–º/—á
Bugatti Chiron 1500 –ª.—Å.   ‚Üí 4.2 —Å–µ–∫, 550 –∫–º/—á
```

## üìã –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

### –ü–∞—Ä—Å–∏–Ω–≥ –∏ –∑–∞–≥—Ä—É–∑–∫–∞
```bash
make parse-xml    # –ü–∞—Ä—Å–∏—Ç—å cars.xml ‚Üí SQL –¥–∞–º–ø
make load-dump    # –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–º–ø –≤ –ë–î
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ë–î
docker exec -it cars_postgres psql -U postgres search_db

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
SELECT
  (SELECT COUNT(*) FROM "Brand") as brands,
  (SELECT COUNT(*) FROM "Model") as models,
  (SELECT COUNT(*) FROM "Specification") as specs;

# –ü—Ä–∏–º–µ—Ä—ã –¥–∞–Ω–Ω—ã—Ö
SELECT b.name, m.name, s.horsepower, s."priceMin"
FROM "Specification" s
JOIN "Model" m ON s."modelId" = m.id
JOIN "Brand" b ON m."brandId" = b.id
LIMIT 10;

# –¢–æ–ø-10 —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö
SELECT b.name, m.name, s.horsepower
FROM "Specification" s
JOIN "Model" m ON s."modelId" = m.id
JOIN "Brand" b ON m."brandId" = b.id
ORDER BY s.horsepower DESC
LIMIT 10;
```

### –ß–µ—Ä–µ–∑ PgAdmin
```bash
make dev-tools    # –û—Ç–∫—Ä–æ–µ—Ç http://localhost:5050
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–ö–æ–≥–¥–∞ –æ–±–Ω–æ–≤–∏—Ç—Å—è `cars.xml`:

```bash
# 1. –ó–∞–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª cars.xml –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
cp /path/to/new/cars.xml ./cars.xml

# 2. –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –¥–∞–º–ø
make parse-xml

# 3. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –≤ –ë–î
make load-dump
```

–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —É–¥–∞–ª–µ–Ω–∏–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö.

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
```bash
# –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø
make backup

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
make load-dump

# –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫ - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
make restore FILE=backups/20260203_120000.tar.gz
```

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑:

### 1. Search Service (search-service:4002)
```bash
# API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
GET /api/search/cars?brand=Toyota&priceMax=3000000
GET /api/search/brands
GET /api/search/models?brandId=1
GET /api/search/body-types
GET /api/search/fuel-types
```

### 2. LLM Orchestrator (llm-orchestrator:8080)
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è:
- –ü–æ–∏—Å–∫–∞ –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- –°—Ä–∞–≤–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–µ–π
- –†–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤–ª–∞–¥–µ–Ω–∏—è
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π

### 3. Frontend (localhost:3000)
- –ü–æ–∏—Å–∫–æ–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –§–∏–ª—å—Ç—Ä—ã –ø–æ –±—Ä–µ–Ω–¥–∞–º, —Ü–µ–Ω–µ, —Ç–∏–ø—É –∫—É–∑–æ–≤–∞
- –¢–∞–±–ª–∏—Ü—ã —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î
make shell-db
# –í psql:
SELECT COUNT(*) FROM "Brand";
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: 407

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Search Service API
curl http://localhost:4002/api/search/brands

# 3. –û—Ç–∫—Ä—ã—Ç—å PgAdmin
http://localhost:5050
# Login: admin@cars.ru / admin

# 4. –û—Ç–∫—Ä—ã—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
http://localhost:3000
# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
```

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –§–∞–π–ª –¥–∞–º–ø–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω
```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ
make parse-xml
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ PostgreSQL
docker-compose ps

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
make restart
```

### –î–∞–Ω–Ω—ã–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç
–°–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø—Ä–æ—Å–∏—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é. –í–≤–µ–¥–∏—Ç–µ `yes` –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è.

### –û—à–∏–±–∫–∏ SQL —Å—Ö–µ–º—ã
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏ SQL, –≤–æ–∑–º–æ–∂–Ω–æ Prisma —Å—Ö–µ–º–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å. –ù—É–∂–Ω–æ –ª–∏–±–æ:
1. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–µ—Ä (`parse-cars-xml.js`) –ø–æ–¥ –Ω–æ–≤—É—é —Å—Ö–µ–º—É
2. –û–±–Ω–æ–≤–∏—Ç—å Prisma —Å—Ö–µ–º—É –ø–æ–¥ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–∞–º–ø–∞

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
–ó–∞–≥—Ä—É–∑–∫–∞ 81,823 –∑–∞–ø–∏—Å–µ–π –∑–∞–Ω–∏–º–∞–µ—Ç 30-60 —Å–µ–∫—É–Ω–¥. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
project-root/
‚îÇ
‚îú‚îÄ‚îÄ cars.xml (48 –ú–ë)                      # –ò—Å—Ö–æ–¥–Ω—ã–π XML —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º
‚îÇ
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ dumps/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ initial-data.sql (13 –ú–ë)     # SQL –¥–∞–º–ø ‚Üê –°–û–ó–î–ê–ù
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–∞–º–ø–∞ ‚Üê –°–û–ó–î–ê–ù
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ parse-cars-xml.js            # –ü–∞—Ä—Å–µ—Ä XML ‚Üí SQL ‚Üê –°–û–ó–î–ê–ù
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ load-dump.sh                 # –ó–∞–≥—Ä—É–∑—á–∏–∫ –¥–∞–º–ø–∞ ‚Üê –°–û–ó–î–ê–ù
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json                 # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ ‚Üê –°–û–ó–î–ê–ù
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ node_modules/                # fast-xml-parser
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ init-databases.sql           # –°–æ–∑–¥–∞–Ω–∏–µ –ë–î (–±—ã–ª–æ)
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ DATA-LOADING.md                   # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è EN ‚Üê –°–û–ó–î–ê–ù
‚îÇ
‚îú‚îÄ‚îÄ Makefile (–æ–±–Ω–æ–≤–ª–µ–Ω)                   # –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã ‚Üê –û–ë–ù–û–í–õ–ï–ù
‚îî‚îÄ‚îÄ DATABASE-SETUP-RU.md                  # –≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è ‚Üê –°–û–ó–î–ê–ù
```

## üéâ –ò—Ç–æ–≥–æ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å:

‚úÖ **–ü–∞—Ä—Å–µ—Ä** (`parse-cars-xml.js`) - –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç XML –≤ SQL
‚úÖ **–î–∞–º–ø** (`initial-data.sql`) - 92,030 –∑–∞–ø–∏—Å–µ–π –≥–æ—Ç–æ–≤—ã—Ö –∫ –∑–∞–≥—Ä—É–∑–∫–µ
‚úÖ **–ó–∞–≥—Ä—É–∑—á–∏–∫** (`load-dump.sh`) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –ë–î
‚úÖ **–ö–æ–º–∞–Ω–¥—ã** (`make parse-xml`, `make load-dump`) - —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ —Å **407 –±—Ä–µ–Ω–¥–∞–º–∏**, **9,554 –º–æ–¥–µ–ª—è–º–∏** –∏ **81,823 –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏** –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π!

## üìû –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `make load-dump` —á—Ç–æ–±—ã –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `make shell-db` —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã
3. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5050 (PgAdmin) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ Search Service API
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∏—Å–∫

–£–¥–∞—á–∏! üöÄ
